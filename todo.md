# Redust 项目待办事项

根据代码审查，以下是需要解决的问题列表，按优先级排序。

### P0: 严重安全漏洞

- [ ] **修复拒绝服务 (DoS) 漏洞**: 在 `src/resp.rs` 中，为 RESP 数组和字符串的长度添加上限检查，防止内存耗尽攻击。
- [ ] **修复协议解析状态混乱问题**: 在 `src/resp.rs` 中，将任何 RESP 解析错误视为致命错误，并立即关闭连接，而不是使用 `unwrap_or(0)`。

### P1: 设计和逻辑漏洞

- [ ] **修复命令参数过多被静默忽略的问题**: 在 `src/command.rs` 中，确保在解析后没有多余的参数，否则返回错误。

### P2: 性能和架构改进

- [ ] **实现优雅停机 (Graceful Shutdown)**: 在 `src/main.rs` 中添加信号处理，以触发服务器的平滑关闭。
- [ ] **改进并发性能**: 将 `src/storage.rs` 中的全局 `RwLock` 重构为更细粒度的锁（如 `dashmap`）。

### P3: 代码质量和可维护性

- [ ] **提升测试覆盖率**: 为 `src/resp.rs` 添加针对错误和边界情况的单元测试。
- [ ] **更新文档**: 更新 `README.md`，使其包含所有已实现的命令。
