# Redust 项目待办事项
 
本文件用于跟踪当前「可以立刻开干」的工作项。中长期路线请参考 `roadmap.md`。

---

## 当前聚焦的小类工作（从 roadmap 挑选）

- [ ] **Key 过期与淘汰：maxmemory + LRU 策略 MVP**
  - 基于现有过期机制（惰性删除 + 定期采样）增加全局 `maxmemory` 配置。
  - 实现一种最小可用的淘汰策略（如 allkeys-lru），并对淘汰行为做基本观测。

- [ ] **多 DB / 多逻辑数据库（SELECT <db> 雏形）**
  - 实现最小版多 DB 支持：默认 DB + 可配置的最大 DB 数量。
  - 支持 `SELECT <db>` 命令，并在 INFO/指标中暴露各 DB 的 key 数量。

- [ ] **内存管理与大 key 行为规范**
  - 结合 `maxmemory`，规范大 key / 大集合在内存和性能上的行为与限制。
  - 为极端场景（超大集合、深度嵌套结构）补充回归用例。

- [ ] **复制与只读从库最小实现**
  - 实现「主从复制」的第一版：全量快照 + 命令流复制。
  - 支持只读从库，对业务暴露基本的读写分离能力（先不做自动选主/故障转移）。

- [ ] **安全性：AUTH + 多租户故事预留**
  - 实现简单版 `AUTH` + 密码校验，未认证连接只能执行有限命令集。
  - 在设计上预留未来 ACL / 多租户（按 DB 维度）的扩展空间。

- [ ] **协议与客户端兼容性测试**
  - 使用 `redis-cli`、`redis-rs`、`go-redis` 等做端到端兼容性验证。
  - 为发现的不兼容行为在 `future.md` 中登记后续修复/优化条目。