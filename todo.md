# Redust 项目待办事项

本文件用于跟踪当前“可以立刻开干”的小类工作，同时保留长期问题列表。中长期路线请参考 `roadmap.md`。

---

## 当前聚焦的小类工作

- [ ] **过期语义预研与设计草案**
  - 基于当前 `Storage` 结构，思考如何存储过期时间（如额外 map 或封装 value）。
  - 对比惰性删除 + 定期采样删除两种策略，给出适合 Redust 的方案草图。

- [ ] **持久化雏形选型与 PoC**
  - 在 AOF 与简化版 RDB 之间做一次权衡记录（写入放大、实现复杂度、崩溃恢复语义）。
  - 选出一个最小可行方案，并列出需要序列化的内部数据结构清单。

- [ ] **Storage 锁粒度与并发方案设计**
  - 评估当前全局 `RwLock` 带来的瓶颈场景（例如大量并发写入/读写混合）。
  - 对比几种可选方案（分片锁、并发 map 等），输出一份设计建议。

- [ ] **INFO 子集与监控指标草稿**
  - 列出希望在 `INFO` 命令中暴露的最小指标集合（连接数、key 数量、命令计数、内存估算等）。
  - 粗略评估这些指标在当前架构下的收集成本。

---